<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Basic Page Info -->
    <meta charset="utf-8">
    <title>Limpio - Coming Soon</title>
    <meta name="description" content="Laaris - Coming Soon">
    <meta name="author" content="laaris.com">

    <!-- Mobile Specific Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="resources/img/fav.png"/>

    <!-- FONT -->
    <link href="https://fonts.googleapis.com/css?family=Lato:100,400,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:700|Lobster+Two" rel="stylesheet">

    <!-- ICON FONTS -->
    <link rel="stylesheet" href="css/font_awesome.css">

    <!-- CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.css" rel="stylesheet">
</head>
<body>

<div class="wrapper">
    <div id="stripes">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
    </div>

    <div id="particles-js"></div>

    <div class="home svg">

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="#">
                <i class="fa fa-home" aria-hidden="true"></i>
            </a>
        </nav>

        <div class="container">
            <div class="row justify-content-center">
                <div class="col-6 text-center">
                    <span class="tools">Historial Pedidios <i class="fa fa-file-text-o" aria-hidden="true"></i></span>
                </div>
            </div>

            <br><br><br>

            <div class="row">

                <div class="col-12">
                    <div style="background-color: white">

                        <table id="table"
                               data-pagination="true"
                               data-data-field="items"
                               data-checkbox-header="true"
                               data-click-to-select="true"
                               data-filter-control="true"
                               data-page-size="5"
                        >
                            <thead>
                            <tr>
                                <th data-checkbox="true"></th>
                                <th data-field="NumeroPedido" data-filter-control="input">NumeroPedido </th>
                                <th data-field="Fentrada"data-filter-control="input" >Fentrada</th>
                                <th data-field="Cliente"data-filter-control="input" >Cliente</th>
                                <th data-field="Express"data-filter-control="input"  data-formatter="operateFormatterExpress" data-events="operateEventsExpress" data-align="center" >Express</th>
                                <th data-field="Fentrega"data-filter-control="input" >Fentrega</th>
                                <th data-field="Puntos"data-filter-control="input" >Puntos</th>
                                <th data-field="Estado"data-filter-control="input" >Estado</th>
                                <th data-field="EnvioAvsios" data-filter-control="input" data-formatter="operateFormatter" data-events="operateEvents" data-align="center">Descripcion</th>
                            </tr>
                            </thead>
                        </table>

                    </div>
                </div>

            </div>


            <div class="row justify-content-center" style="margin-top: 20px">
              <div class="col-5">
                  <button class="btn btn-default btn-cdi-action"> <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Volver </button>
                  <button id="remove" class="btn btn-default btn-cdi-action" disabled><i class="fa fa-trash" aria-hidden="true"></i> Eliminar </button>
                  <button class="btn btn-default btn-cdi-action">  <i class="fa fa-floppy-o" aria-hidden="true"></i>  Guardar</button>
              </div>
            </div>

        </div>
    </div>

</div>

<script type="text/javascript" src="js/jquery-3.1.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/validator.js"></script>
<script type="text/javascript" src="js/particles.min.js"></script>
<script type="text/javascript" src="js/particles_2.js"></script>
<script type="text/javascript" src="js/script.js"></script>

<script src="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.16.0/dist/extensions/toolbar/bootstrap-table-toolbar.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.16.0/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>


<script type="text/javascript" src="js/utils.js"></script>
<script type="text/javascript" src="js/dbaccesso.js"></script>


<script>
    var $table = $('#table');

    $(function() {
        let data = obtenerdatos("HistorialPedidos");
        console.log(data);
        $table.bootstrapTable({data: data})
    })


    window.operateEvents = {
        'click .like': function (e, value, row) {
            alert('ENVIAR ' + value)
        },
    }

    function operateFormatter(value, row, index) {
        if (value === "si") {
            return [
                '<span class="aceptarOK"><i class="fa fa-check" aria-hidden="true"></i></span>'

            ].join('')
        }
        else {
            return [
                '<span class="cancelar"><i class="fa fa-times" aria-hidden="true"></i></span>'
            ].join('')
        }
    }

    window.operateEventsExpress = {
        'click .like': function (e, value, row) {
            alert('ENVIAR ' + value)
        },
    }

    function operateFormatterExpress(value, row, index) {
        if (value === "si") {
            return [
                '<span class="boltcolor"><i class="fa fa-bolt" aria-hidden="true"></i></span>'

            ].join('')
        }
        else {
            return [
                ' '
            ].join('')
        }
    }

    var $remove = $('#remove')

    $(function() {
        $table.on('check.bs.table uncheck.bs.table check-all.bs.table uncheck-all.bs.table', function () {
            $remove.prop('disabled', !$table.bootstrapTable('getSelections').length)
        });

        $remove.click(function () {
            var ids = $.map($table.bootstrapTable('getSelections'), function (row) {
                return row.NumeroPedido;
            });

            $table.bootstrapTable('remove', {
                field: 'NumeroPedido',
                values: ids
            })
            $remove.prop('disabled', true)
        })
    })
</script>

</body>
</html>
